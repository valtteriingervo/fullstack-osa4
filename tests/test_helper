const Blog = require('../models/blog')

const initialBlogs = [
  {
    _id: '6357d7a8ab80b0d4fc8d745c',
    title: 'Blog about dogs',
    author: 'Matt Cannahan',
    url: 'http://dog-blog.com',
    likes: 7,
    __v: 0
  },
  {
    _id: '6357d7ebab80b0d4fc8d745f',
    title: 'Teen-lyfe',
    author: 'Johanna Juurikainen',
    url: 'http://teen-lyfe.com',
    likes: 14,
    __v: 0
  },
  {
    _id: '635920a05318440bf611d822',
    title: 'Vihannesblogi',
    author: 'Jarmo Juurimies',
    url: 'http://porkkaanaa-ma-popsin.com',
    likes: 1,
    __v: 0
  },
  {
    _id: '6359241aa2d40a4fc4f8cdea',
    title: 'Car blog',
    author: 'Jack Smith',
    url: 'http://cool-cars-blog.com',
    likes: 52,
    __v: 0
  },
  {
    _id: '635925e647979a9016a45f36',
    title: 'Friendship blog',
    author: 'Jasmiina Yahlava',
    url: 'http://friends-are-forever.com',
    likes: 199,
    __v: 0
  }
]

const blogsInDb = async () => {
  const blogs = await Blog.find({})
  return blogs.map(blog => blog.toJSON())
}

const lastBlogAddedInDb = async () => {
  const blogs = await Blog.find({})
  return blogs.pop()
}

module.exports = {
  initialBlogs, blogsInDb, lastBlogAddedInDb
}